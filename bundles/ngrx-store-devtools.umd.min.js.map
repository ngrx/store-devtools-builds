{"version":3,"sources":["../src/config.ts","../../../../node_modules/tslib/tslib.es6.js","../src/actions.ts","../src/devtools-dispatcher.ts","../src/utils.ts","../src/extension.ts","../src/reducer.ts","../src/devtools.ts","../src/instrument.ts"],"names":["this","maxAge","STORE_DEVTOOLS_CONFIG","InjectionToken","INITIAL_OPTIONS","noMonitor","DEFAULT_NAME","createConfig","_options","DEFAULT_OPTIONS","monitor","actionSanitizer","undefined","stateSanitizer","name","serialize","logOnly","features","pause","lock","persist","export","import","jump","skip","reorder","dispatch","test","options","config","Object","assign","Error","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","TypeError","pop","push","__createBinding","o","m","k","k2","enumerable","get","__exportStar","exports","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__esModule","__importDefault","default","__classPrivateFieldGet","receiver","privateMap","has","__classPrivateFieldSet","set","PERFORM_ACTION","REFRESH","RESET","ROLLBACK","COMMIT","SWEEP","TOGGLE_ACTION","SET_ACTIONS_ACTIVE","JUMP_TO_STATE","JUMP_TO_ACTION","IMPORT_STATE","LOCK_CHANGES","PAUSE_RECORDING","PerformAction","action","timestamp","type","Refresh","Reset","Rollback","Commit","Sweep","ToggleAction","id","SetActionsActive","start","end","active","JumpToState","index","JumpToAction","actionId","ImportState","nextLiftedState","LockChanges","status","PauseRecording","DevtoolsDispatcher","_super","ActionsSubject","difference","first","second","filter","item","unliftState","liftedState","computedStates","currentStateIndex","state","unliftAction","actionsById","nextActionId","liftAction","Actions.PerformAction","Date","now","sanitizeActions","actions","keys","reduce","sanitizedActions","actionIdx","idx","Number","sanitizeAction","sanitizeStates","states","map","computedState","sanitizeState","stateIdx","shouldFilterActions","predicate","actionsSafelist","actionsBlocklist","filterLiftedState","safelist","blocklist","filteredStagedActionIds","filteredActionsById","filteredComputedStates","stagedActionIds","forEach","liftedAction","isActionFiltered","blockedlist","predicateMatch","safelistMatch","match","escapeRegExp","join","blocklistMatch","replace","Injectable","ExtensionActionTypes","START","DISPATCH","STOP","ACTION","REDUX_DEVTOOLS_EXTENSION","DevtoolsExtension","devtoolsExtension","dispatcher","createActionStreams","notify","_this","isLocked","isPaused","currentState","sanitizedState_1","sanitizedAction_1","sendToReduxDevtools","extensionConnection","send","sanitizedLiftedState_1","getExtensionConfig","createChangesObservable","Observable","subscriber","connection","connect","init","subscribe","change","unsubscribe","EMPTY","changes$","pipe","share","start$","stop$","liftedActions$","unwrapAction","payload","concatMap","UPDATE","timeout","debounceTime","catchError","of","take","actionsUntilStop$","takeUntil","liftedUntilStop$","actions$","switchMap","eval","extensionOptions","err","console","warn","Inject","args","StoreDevtoolsConfig","INIT_ACTION","INIT","RECOMPUTE","RECOMPUTE_ACTION","computeNextEntry","reducer","errorHandler","nextError","nextState","toString","handleError","recomputeStates","minInvalidatedStateIndex","committedState","skippedActionIds","nextComputedStates","slice","lastIncludedActionId","previousEntry","previousState","previousError","entry","liftInitialState","initialCommittedState","monitorReducer","monitorState","0","liftReducerWith","initialLiftedState","_b","commitExcessActions","excess","idsToDelete","commitChanges","DevtoolsActions.LOCK_CHANGES","Infinity","DevtoolsActions.PAUSE_RECORDING","DevtoolsActions.RESET","DevtoolsActions.COMMIT","DevtoolsActions.ROLLBACK","DevtoolsActions.TOGGLE_ACTION","actionId_1","DevtoolsActions.SET_ACTIONS_ACTIVE","actionIds","DevtoolsActions.JUMP_TO_STATE","DevtoolsActions.JUMP_TO_ACTION","DevtoolsActions.SWEEP","Math","min","DevtoolsActions.PERFORM_ACTION","lastState","DevtoolsActions.IMPORT_STATE","_a","cmp","StoreDevtools","reducers$","extension","scannedActions","initialState","liftedInitialState","liftReducer","liftedAction$","merge","asObservable","observeOn","queueScheduler","liftedReducer$","liftedStateSubject","ReplaySubject","liftedStateSubscription","withLatestFrom","scan","_c","reducedLiftedState","Actions.PERFORM_ACTION","unliftedAction","extensionStartSubscription","refresh","liftedState$","state$","stateSubscription","complete","performAction","Actions.Refresh","reset","Actions.Reset","rollback","Actions.Rollback","commit","Actions.Commit","sweep","Actions.Sweep","toggleAction","Actions.ToggleAction","jumpToAction","Actions.JumpToAction","jumpToState","Actions.JumpToState","importState","Actions.ImportState","lockChanges","Actions.LockChanges","pauseRecording","Actions.PauseRecording","ReducerObservable","ScannedActionsSubject","ErrorHandler","INITIAL_STATE","IS_EXTENSION_OR_MONITOR_PRESENT","createIsExtensionOrMonitorPresent","Boolean","createReduxDevtoolsExtension","extensionKey","window","createStateObservable","devtools","StoreDevtoolsModule","instrument","ngModule","providers","provide","useValue","deps","useFactory","StateObservable","ReducerManagerDispatcher","useExisting","NgModule"],"mappings":"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","sourcesContent":["import { ActionReducer, Action } from '@ngrx/store';\nimport { InjectionToken } from '@angular/core';\n\nexport type ActionSanitizer = (action: Action, id: number) => Action;\nexport type StateSanitizer = (state: any, index: number) => any;\nexport type SerializationOptions = {\n  options?: boolean | any;\n  replacer?: (key: any, value: any) => {};\n  reviver?: (key: any, value: any) => {};\n  immutable?: any;\n  refs?: Array<any>;\n};\nexport type Predicate = (state: any, action: Action) => boolean;\nexport interface DevToolsFeatureOptions {\n  pause?: boolean;\n  lock?: boolean;\n  persist?: boolean;\n  export?: boolean;\n  import?: 'custom' | boolean;\n  jump?: boolean;\n  skip?: boolean;\n  reorder?: boolean;\n  dispatch?: boolean;\n  test?: boolean;\n}\n\nexport class StoreDevtoolsConfig {\n  maxAge: number | false = false;\n  monitor?: ActionReducer<any, any>;\n  actionSanitizer?: ActionSanitizer;\n  stateSanitizer?: StateSanitizer;\n  name?: string;\n  serialize?: boolean | SerializationOptions;\n  logOnly?: boolean;\n  features?: DevToolsFeatureOptions;\n  actionsBlocklist?: string[];\n  actionsSafelist?: string[];\n  predicate?: Predicate;\n}\n\nexport const STORE_DEVTOOLS_CONFIG = new InjectionToken<StoreDevtoolsConfig>(\n  '@ngrx/store-devtools Options'\n);\nexport const INITIAL_OPTIONS = new InjectionToken<StoreDevtoolsConfig>(\n  '@ngrx/store-devtools Initial Config'\n);\n\nexport type StoreDevtoolsOptions =\n  | Partial<StoreDevtoolsConfig>\n  | (() => Partial<StoreDevtoolsConfig>);\n\nexport function noMonitor(): null {\n  return null;\n}\n\nexport const DEFAULT_NAME = 'NgRx Store DevTools';\n\nexport function createConfig(\n  _options: StoreDevtoolsOptions\n): StoreDevtoolsConfig {\n  const DEFAULT_OPTIONS: StoreDevtoolsConfig = {\n    maxAge: false,\n    monitor: noMonitor,\n    actionSanitizer: undefined,\n    stateSanitizer: undefined,\n    name: DEFAULT_NAME,\n    serialize: false,\n    logOnly: false,\n    // Add all features explicitly. This prevent buggy behavior for\n    // options like \"lock\" which might otherwise not show up.\n    features: {\n      pause: true, // start/pause recording of dispatched actions\n      lock: true, // lock/unlock dispatching actions and side effects\n      persist: true, // persist states on page reloading\n      export: true, // export history of actions in a file\n      import: 'custom', // import history of actions from a file\n      jump: true, // jump back and forth (time travelling)\n      skip: true, // skip (cancel) actions\n      reorder: true, // drag and drop actions in the history list\n      dispatch: true, // dispatch custom actions or action creators\n      test: true, // generate tests for the selected actions\n    },\n  };\n\n  let options = typeof _options === 'function' ? _options() : _options;\n  const logOnly = options.logOnly\n    ? { pause: true, export: true, test: true }\n    : false;\n  const features = options.features || logOnly || DEFAULT_OPTIONS.features;\n  const config = Object.assign({}, DEFAULT_OPTIONS, { features }, options);\n\n  if (config.maxAge && config.maxAge < 2) {\n    throw new Error(\n      `Devtools 'maxAge' cannot be less than 2, got ${config.maxAge}`\n    );\n  }\n\n  return config;\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Action } from '@ngrx/store';\n\nexport const PERFORM_ACTION = 'PERFORM_ACTION';\nexport const REFRESH = 'REFRESH';\nexport const RESET = 'RESET';\nexport const ROLLBACK = 'ROLLBACK';\nexport const COMMIT = 'COMMIT';\nexport const SWEEP = 'SWEEP';\nexport const TOGGLE_ACTION = 'TOGGLE_ACTION';\nexport const SET_ACTIONS_ACTIVE = 'SET_ACTIONS_ACTIVE';\nexport const JUMP_TO_STATE = 'JUMP_TO_STATE';\nexport const JUMP_TO_ACTION = 'JUMP_TO_ACTION';\nexport const IMPORT_STATE = 'IMPORT_STATE';\nexport const LOCK_CHANGES = 'LOCK_CHANGES';\nexport const PAUSE_RECORDING = 'PAUSE_RECORDING';\n\nexport class PerformAction implements Action {\n  readonly type = PERFORM_ACTION;\n\n  constructor(public action: Action, public timestamp: number) {\n    if (typeof action.type === 'undefined') {\n      throw new Error(\n        'Actions may not have an undefined \"type\" property. ' +\n          'Have you misspelled a constant?'\n      );\n    }\n  }\n}\n\nexport class Refresh implements Action {\n  readonly type = REFRESH;\n}\n\nexport class Reset implements Action {\n  readonly type = RESET;\n\n  constructor(public timestamp: number) {}\n}\n\nexport class Rollback implements Action {\n  readonly type = ROLLBACK;\n\n  constructor(public timestamp: number) {}\n}\n\nexport class Commit implements Action {\n  readonly type = COMMIT;\n\n  constructor(public timestamp: number) {}\n}\n\nexport class Sweep implements Action {\n  readonly type = SWEEP;\n}\n\nexport class ToggleAction implements Action {\n  readonly type = TOGGLE_ACTION;\n\n  constructor(public id: number) {}\n}\n\nexport class SetActionsActive implements Action {\n  readonly type = SET_ACTIONS_ACTIVE;\n\n  constructor(\n    public start: number,\n    public end: number,\n    public active: boolean = true\n  ) {}\n}\n\nexport class JumpToState implements Action {\n  readonly type = JUMP_TO_STATE;\n\n  constructor(public index: number) {}\n}\n\nexport class JumpToAction implements Action {\n  readonly type = JUMP_TO_ACTION;\n\n  constructor(public actionId: number) {}\n}\n\nexport class ImportState implements Action {\n  readonly type = IMPORT_STATE;\n\n  constructor(public nextLiftedState: any) {}\n}\n\nexport class LockChanges implements Action {\n  readonly type = LOCK_CHANGES;\n\n  constructor(public status: boolean) {}\n}\n\nexport class PauseRecording implements Action {\n  readonly type = PAUSE_RECORDING;\n\n  constructor(public status: boolean) {}\n}\n\nexport type All =\n  | PerformAction\n  | Refresh\n  | Reset\n  | Rollback\n  | Commit\n  | Sweep\n  | ToggleAction\n  | SetActionsActive\n  | JumpToState\n  | JumpToAction\n  | ImportState\n  | LockChanges\n  | PauseRecording;\n","import { ActionsSubject } from '@ngrx/store';\nimport { Injectable } from '@angular/core';\n\n@Injectable()\nexport class DevtoolsDispatcher extends ActionsSubject {}\n","import { Action } from '@ngrx/store';\n\nimport * as Actions from './actions';\nimport {\n  ActionSanitizer,\n  StateSanitizer,\n  Predicate,\n  StoreDevtoolsConfig,\n} from './config';\nimport {\n  ComputedState,\n  LiftedAction,\n  LiftedActions,\n  LiftedState,\n} from './reducer';\n\nexport function difference(first: any[], second: any[]) {\n  return first.filter((item) => second.indexOf(item) < 0);\n}\n\n/**\n * Provides an app's view into the state of the lifted store.\n */\nexport function unliftState(liftedState: LiftedState) {\n  const { computedStates, currentStateIndex } = liftedState;\n\n  // At start up NgRx dispatches init actions,\n  // When these init actions are being filtered out by the predicate or safe/block list options\n  // we don't have a complete computed states yet.\n  // At this point it could happen that we're out of bounds, when this happens we fall back to the last known state\n  if (currentStateIndex >= computedStates.length) {\n    const { state } = computedStates[computedStates.length - 1];\n    return state;\n  }\n\n  const { state } = computedStates[currentStateIndex];\n  return state;\n}\n\nexport function unliftAction(liftedState: LiftedState): LiftedAction {\n  return liftedState.actionsById[liftedState.nextActionId - 1];\n}\n\n/**\n * Lifts an app's action into an action on the lifted store.\n */\nexport function liftAction(action: Action) {\n  return new Actions.PerformAction(action, +Date.now());\n}\n\n/**\n * Sanitizes given actions with given function.\n */\nexport function sanitizeActions(\n  actionSanitizer: ActionSanitizer,\n  actions: LiftedActions\n): LiftedActions {\n  return Object.keys(actions).reduce((sanitizedActions, actionIdx) => {\n    const idx = Number(actionIdx);\n    sanitizedActions[idx] = sanitizeAction(actionSanitizer, actions[idx], idx);\n    return sanitizedActions;\n  }, <LiftedActions>{});\n}\n\n/**\n * Sanitizes given action with given function.\n */\nexport function sanitizeAction(\n  actionSanitizer: ActionSanitizer,\n  action: LiftedAction,\n  actionIdx: number\n): LiftedAction {\n  return {\n    ...action,\n    action: actionSanitizer(action.action, actionIdx),\n  };\n}\n\n/**\n * Sanitizes given states with given function.\n */\nexport function sanitizeStates(\n  stateSanitizer: StateSanitizer,\n  states: ComputedState[]\n): ComputedState[] {\n  return states.map((computedState, idx) => ({\n    state: sanitizeState(stateSanitizer, computedState.state, idx),\n    error: computedState.error,\n  }));\n}\n\n/**\n * Sanitizes given state with given function.\n */\nexport function sanitizeState(\n  stateSanitizer: StateSanitizer,\n  state: any,\n  stateIdx: number\n) {\n  return stateSanitizer(state, stateIdx);\n}\n\n/**\n * Read the config and tell if actions should be filtered\n */\nexport function shouldFilterActions(config: StoreDevtoolsConfig) {\n  return config.predicate || config.actionsSafelist || config.actionsBlocklist;\n}\n\n/**\n * Return a full filtered lifted state\n */\nexport function filterLiftedState(\n  liftedState: LiftedState,\n  predicate?: Predicate,\n  safelist?: string[],\n  blocklist?: string[]\n): LiftedState {\n  const filteredStagedActionIds: number[] = [];\n  const filteredActionsById: LiftedActions = {};\n  const filteredComputedStates: ComputedState[] = [];\n  liftedState.stagedActionIds.forEach((id, idx) => {\n    const liftedAction = liftedState.actionsById[id];\n    if (!liftedAction) return;\n    if (\n      idx &&\n      isActionFiltered(\n        liftedState.computedStates[idx],\n        liftedAction,\n        predicate,\n        safelist,\n        blocklist\n      )\n    ) {\n      return;\n    }\n    filteredActionsById[id] = liftedAction;\n    filteredStagedActionIds.push(id);\n    filteredComputedStates.push(liftedState.computedStates[idx]);\n  });\n  return {\n    ...liftedState,\n    stagedActionIds: filteredStagedActionIds,\n    actionsById: filteredActionsById,\n    computedStates: filteredComputedStates,\n  };\n}\n\n/**\n * Return true is the action should be ignored\n */\nexport function isActionFiltered(\n  state: any,\n  action: LiftedAction,\n  predicate?: Predicate,\n  safelist?: string[],\n  blockedlist?: string[]\n) {\n  const predicateMatch = predicate && !predicate(state, action.action);\n  const safelistMatch =\n    safelist &&\n    !action.action.type.match(safelist.map((s) => escapeRegExp(s)).join('|'));\n  const blocklistMatch =\n    blockedlist &&\n    action.action.type.match(blockedlist.map((s) => escapeRegExp(s)).join('|'));\n  return predicateMatch || safelistMatch || blocklistMatch;\n}\n\n/**\n * Return string with escaped RegExp special characters\n * https://stackoverflow.com/a/6969486/1337347\n */\nfunction escapeRegExp(s: string): string {\n  return s.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n}\n","import { Inject, Injectable, InjectionToken } from '@angular/core';\nimport { Action, UPDATE } from '@ngrx/store';\nimport { EMPTY, Observable, of } from 'rxjs';\nimport {\n  catchError,\n  concatMap,\n  debounceTime,\n  filter,\n  map,\n  share,\n  switchMap,\n  take,\n  takeUntil,\n  timeout,\n} from 'rxjs/operators';\n\nimport { IMPORT_STATE, PERFORM_ACTION } from './actions';\nimport {\n  SerializationOptions,\n  STORE_DEVTOOLS_CONFIG,\n  StoreDevtoolsConfig,\n} from './config';\nimport { DevtoolsDispatcher } from './devtools-dispatcher';\nimport { LiftedAction, LiftedState } from './reducer';\nimport {\n  isActionFiltered,\n  sanitizeAction,\n  sanitizeActions,\n  sanitizeState,\n  sanitizeStates,\n  shouldFilterActions,\n  unliftState,\n} from './utils';\n\nexport const ExtensionActionTypes = {\n  START: 'START',\n  DISPATCH: 'DISPATCH',\n  STOP: 'STOP',\n  ACTION: 'ACTION',\n};\n\nexport const REDUX_DEVTOOLS_EXTENSION = new InjectionToken<ReduxDevtoolsExtension>(\n  '@ngrx/store-devtools Redux Devtools Extension'\n);\n\nexport interface ReduxDevtoolsExtensionConnection {\n  subscribe(listener: (change: any) => void): void;\n  unsubscribe(): void;\n  send(action: any, state: any): void;\n  init(state?: any): void;\n  error(anyErr: any): void;\n}\nexport interface ReduxDevtoolsExtensionConfig {\n  features?: object | boolean;\n  name: string | undefined;\n  maxAge?: number;\n  serialize?: boolean | SerializationOptions;\n}\n\nexport interface ReduxDevtoolsExtension {\n  connect(\n    options: ReduxDevtoolsExtensionConfig\n  ): ReduxDevtoolsExtensionConnection;\n  send(action: any, state: any, options: ReduxDevtoolsExtensionConfig): void;\n}\n\n@Injectable()\nexport class DevtoolsExtension {\n  private devtoolsExtension: ReduxDevtoolsExtension;\n  private extensionConnection!: ReduxDevtoolsExtensionConnection;\n\n  liftedActions$!: Observable<any>;\n  actions$!: Observable<any>;\n  start$!: Observable<any>;\n\n  constructor(\n    @Inject(REDUX_DEVTOOLS_EXTENSION) devtoolsExtension: ReduxDevtoolsExtension,\n    @Inject(STORE_DEVTOOLS_CONFIG) private config: StoreDevtoolsConfig,\n    private dispatcher: DevtoolsDispatcher\n  ) {\n    this.devtoolsExtension = devtoolsExtension;\n    this.createActionStreams();\n  }\n\n  notify(action: LiftedAction, state: LiftedState) {\n    if (!this.devtoolsExtension) {\n      return;\n    }\n    // Check to see if the action requires a full update of the liftedState.\n    // If it is a simple action generated by the user's app and the recording\n    // is not locked/paused, only send the action and the current state (fast).\n    //\n    // A full liftedState update (slow: serializes the entire liftedState) is\n    // only required when:\n    //   a) redux-devtools-extension fires the @@Init action (ignored by\n    //      @ngrx/store-devtools)\n    //   b) an action is generated by an @ngrx module (e.g. @ngrx/effects/init\n    //      or @ngrx/store/update-reducers)\n    //   c) the state has been recomputed due to time-traveling\n    //   d) any action that is not a PerformAction to err on the side of\n    //      caution.\n    if (action.type === PERFORM_ACTION) {\n      if (state.isLocked || state.isPaused) {\n        return;\n      }\n\n      const currentState = unliftState(state);\n      if (\n        shouldFilterActions(this.config) &&\n        isActionFiltered(\n          currentState,\n          action,\n          this.config.predicate,\n          this.config.actionsSafelist,\n          this.config.actionsBlocklist\n        )\n      ) {\n        return;\n      }\n      const sanitizedState = this.config.stateSanitizer\n        ? sanitizeState(\n            this.config.stateSanitizer,\n            currentState,\n            state.currentStateIndex\n          )\n        : currentState;\n      const sanitizedAction = this.config.actionSanitizer\n        ? sanitizeAction(\n            this.config.actionSanitizer,\n            action,\n            state.nextActionId\n          )\n        : action;\n\n      this.sendToReduxDevtools(() =>\n        this.extensionConnection.send(sanitizedAction, sanitizedState)\n      );\n    } else {\n      // Requires full state update\n      const sanitizedLiftedState = {\n        ...state,\n        stagedActionIds: state.stagedActionIds,\n        actionsById: this.config.actionSanitizer\n          ? sanitizeActions(this.config.actionSanitizer, state.actionsById)\n          : state.actionsById,\n        computedStates: this.config.stateSanitizer\n          ? sanitizeStates(this.config.stateSanitizer, state.computedStates)\n          : state.computedStates,\n      };\n\n      this.sendToReduxDevtools(() =>\n        this.devtoolsExtension.send(\n          null,\n          sanitizedLiftedState,\n          this.getExtensionConfig(this.config)\n        )\n      );\n    }\n  }\n\n  private createChangesObservable(): Observable<any> {\n    if (!this.devtoolsExtension) {\n      return EMPTY;\n    }\n\n    return new Observable((subscriber) => {\n      const connection = this.devtoolsExtension.connect(\n        this.getExtensionConfig(this.config)\n      );\n      this.extensionConnection = connection;\n      connection.init();\n\n      connection.subscribe((change: any) => subscriber.next(change));\n      return connection.unsubscribe;\n    });\n  }\n\n  private createActionStreams() {\n    // Listens to all changes\n    const changes$ = this.createChangesObservable().pipe(share());\n\n    // Listen for the start action\n    const start$ = changes$.pipe(\n      filter((change: any) => change.type === ExtensionActionTypes.START)\n    );\n\n    // Listen for the stop action\n    const stop$ = changes$.pipe(\n      filter((change: any) => change.type === ExtensionActionTypes.STOP)\n    );\n\n    // Listen for lifted actions\n    const liftedActions$ = changes$.pipe(\n      filter((change) => change.type === ExtensionActionTypes.DISPATCH),\n      map((change) => this.unwrapAction(change.payload)),\n      concatMap((action: any) => {\n        if (action.type === IMPORT_STATE) {\n          // State imports may happen in two situations:\n          // 1. Explicitly by user\n          // 2. User activated the \"persist state accross reloads\" option\n          //    and now the state is imported during reload.\n          // Because of option 2, we need to give possible\n          // lazy loaded reducers time to instantiate.\n          // As soon as there is no UPDATE action within 1 second,\n          // it is assumed that all reducers are loaded.\n          return this.dispatcher.pipe(\n            filter((action) => action.type === UPDATE),\n            timeout(1000),\n            debounceTime(1000),\n            map(() => action),\n            catchError(() => of(action)),\n            take(1)\n          );\n        } else {\n          return of(action);\n        }\n      })\n    );\n\n    // Listen for unlifted actions\n    const actions$ = changes$.pipe(\n      filter((change) => change.type === ExtensionActionTypes.ACTION),\n      map((change) => this.unwrapAction(change.payload))\n    );\n\n    const actionsUntilStop$ = actions$.pipe(takeUntil(stop$));\n    const liftedUntilStop$ = liftedActions$.pipe(takeUntil(stop$));\n    this.start$ = start$.pipe(takeUntil(stop$));\n\n    // Only take the action sources between the start/stop events\n    this.actions$ = this.start$.pipe(switchMap(() => actionsUntilStop$));\n    this.liftedActions$ = this.start$.pipe(switchMap(() => liftedUntilStop$));\n  }\n\n  private unwrapAction(action: Action) {\n    return typeof action === 'string' ? eval(`(${action})`) : action;\n  }\n\n  private getExtensionConfig(config: StoreDevtoolsConfig) {\n    const extensionOptions: ReduxDevtoolsExtensionConfig = {\n      name: config.name,\n      features: config.features,\n      serialize: config.serialize,\n      // The action/state sanitizers are not added to the config\n      // because sanitation is done in this class already.\n      // It is done before sending it to the devtools extension for consistency:\n      // - If we call extensionConnection.send(...),\n      //   the extension would call the sanitizers.\n      // - If we call devtoolsExtension.send(...) (aka full state update),\n      //   the extension would NOT call the sanitizers, so we have to do it ourselves.\n    };\n    if (config.maxAge !== false /* support === 0 */) {\n      extensionOptions.maxAge = config.maxAge;\n    }\n    return extensionOptions;\n  }\n\n  private sendToReduxDevtools(send: Function) {\n    try {\n      send();\n    } catch (err) {\n      console.warn(\n        '@ngrx/store-devtools: something went wrong inside the redux devtools',\n        err\n      );\n    }\n  }\n}\n","import { ErrorHandler } from '@angular/core';\nimport { Action, ActionReducer, UPDATE, INIT } from '@ngrx/store';\n\nimport { difference, liftAction, isActionFiltered } from './utils';\nimport * as DevtoolsActions from './actions';\nimport { StoreDevtoolsConfig } from './config';\nimport { PerformAction } from './actions';\n\nexport type InitAction = {\n  readonly type: typeof INIT;\n};\n\nexport type UpdateReducerAction = {\n  readonly type: typeof UPDATE;\n};\n\nexport type CoreActions = InitAction | UpdateReducerAction;\nexport type Actions = DevtoolsActions.All | CoreActions;\n\nexport const INIT_ACTION = { type: INIT };\n\nexport const RECOMPUTE = '@ngrx/store-devtools/recompute' as '@ngrx/store-devtools/recompute';\nexport const RECOMPUTE_ACTION = { type: RECOMPUTE };\n\nexport interface ComputedState {\n  state: any;\n  error: any;\n}\n\nexport interface LiftedAction {\n  type: string;\n  action: Action;\n}\n\nexport interface LiftedActions {\n  [id: number]: LiftedAction;\n}\n\nexport interface LiftedState {\n  monitorState: any;\n  nextActionId: number;\n  actionsById: LiftedActions;\n  stagedActionIds: number[];\n  skippedActionIds: number[];\n  committedState: any;\n  currentStateIndex: number;\n  computedStates: ComputedState[];\n  isLocked: boolean;\n  isPaused: boolean;\n}\n\n/**\n * Computes the next entry in the log by applying an action.\n */\nfunction computeNextEntry(\n  reducer: ActionReducer<any, any>,\n  action: Action,\n  state: any,\n  error: any,\n  errorHandler: ErrorHandler\n) {\n  if (error) {\n    return {\n      state,\n      error: 'Interrupted by an error up the chain',\n    };\n  }\n\n  let nextState = state;\n  let nextError;\n  try {\n    nextState = reducer(state, action);\n  } catch (err) {\n    nextError = err.toString();\n    errorHandler.handleError(err);\n  }\n\n  return {\n    state: nextState,\n    error: nextError,\n  };\n}\n\n/**\n * Runs the reducer on invalidated actions to get a fresh computation log.\n */\nfunction recomputeStates(\n  computedStates: ComputedState[],\n  minInvalidatedStateIndex: number,\n  reducer: ActionReducer<any, any>,\n  committedState: any,\n  actionsById: LiftedActions,\n  stagedActionIds: number[],\n  skippedActionIds: number[],\n  errorHandler: ErrorHandler,\n  isPaused: boolean\n) {\n  // Optimization: exit early and return the same reference\n  // if we know nothing could have changed.\n  if (\n    minInvalidatedStateIndex >= computedStates.length &&\n    computedStates.length === stagedActionIds.length\n  ) {\n    return computedStates;\n  }\n\n  const nextComputedStates = computedStates.slice(0, minInvalidatedStateIndex);\n  // If the recording is paused, recompute all states up until the pause state,\n  // else recompute all states.\n  const lastIncludedActionId = stagedActionIds.length - (isPaused ? 1 : 0);\n  for (let i = minInvalidatedStateIndex; i < lastIncludedActionId; i++) {\n    const actionId = stagedActionIds[i];\n    const action = actionsById[actionId].action;\n\n    const previousEntry = nextComputedStates[i - 1];\n    const previousState = previousEntry ? previousEntry.state : committedState;\n    const previousError = previousEntry ? previousEntry.error : undefined;\n\n    const shouldSkip = skippedActionIds.indexOf(actionId) > -1;\n    const entry: ComputedState = shouldSkip\n      ? previousEntry\n      : computeNextEntry(\n          reducer,\n          action,\n          previousState,\n          previousError,\n          errorHandler\n        );\n\n    nextComputedStates.push(entry);\n  }\n  // If the recording is paused, the last state will not be recomputed,\n  // because it's essentially not part of the state history.\n  if (isPaused) {\n    nextComputedStates.push(computedStates[computedStates.length - 1]);\n  }\n\n  return nextComputedStates;\n}\n\nexport function liftInitialState(\n  initialCommittedState?: any,\n  monitorReducer?: any\n): LiftedState {\n  return {\n    monitorState: monitorReducer(undefined, {}),\n    nextActionId: 1,\n    actionsById: { 0: liftAction(INIT_ACTION) },\n    stagedActionIds: [0],\n    skippedActionIds: [],\n    committedState: initialCommittedState,\n    currentStateIndex: 0,\n    computedStates: [],\n    isLocked: false,\n    isPaused: false,\n  };\n}\n\n/**\n * Creates a history state reducer from an app's reducer.\n */\nexport function liftReducerWith(\n  initialCommittedState: any,\n  initialLiftedState: LiftedState,\n  errorHandler: ErrorHandler,\n  monitorReducer?: any,\n  options: Partial<StoreDevtoolsConfig> = {}\n) {\n  /**\n   * Manages how the history actions modify the history state.\n   */\n  return (\n    reducer: ActionReducer<any, any>\n  ): ActionReducer<LiftedState, Actions> => (liftedState, liftedAction) => {\n    let {\n      monitorState,\n      actionsById,\n      nextActionId,\n      stagedActionIds,\n      skippedActionIds,\n      committedState,\n      currentStateIndex,\n      computedStates,\n      isLocked,\n      isPaused,\n    } = liftedState || initialLiftedState;\n\n    if (!liftedState) {\n      // Prevent mutating initialLiftedState\n      actionsById = Object.create(actionsById);\n    }\n\n    function commitExcessActions(n: number) {\n      // Auto-commits n-number of excess actions.\n      let excess = n;\n      let idsToDelete = stagedActionIds.slice(1, excess + 1);\n\n      for (let i = 0; i < idsToDelete.length; i++) {\n        if (computedStates[i + 1].error) {\n          // Stop if error is found. Commit actions up to error.\n          excess = i;\n          idsToDelete = stagedActionIds.slice(1, excess + 1);\n          break;\n        } else {\n          delete actionsById[idsToDelete[i]];\n        }\n      }\n\n      skippedActionIds = skippedActionIds.filter(\n        (id) => idsToDelete.indexOf(id) === -1\n      );\n      stagedActionIds = [0, ...stagedActionIds.slice(excess + 1)];\n      committedState = computedStates[excess].state;\n      computedStates = computedStates.slice(excess);\n      currentStateIndex =\n        currentStateIndex > excess ? currentStateIndex - excess : 0;\n    }\n\n    function commitChanges() {\n      // Consider the last committed state the new starting point.\n      // Squash any staged actions into a single committed state.\n      actionsById = { 0: liftAction(INIT_ACTION) };\n      nextActionId = 1;\n      stagedActionIds = [0];\n      skippedActionIds = [];\n      committedState = computedStates[currentStateIndex].state;\n      currentStateIndex = 0;\n      computedStates = [];\n    }\n\n    // By default, aggressively recompute every state whatever happens.\n    // This has O(n) performance, so we'll override this to a sensible\n    // value whenever we feel like we don't have to recompute the states.\n    let minInvalidatedStateIndex = 0;\n\n    switch (liftedAction.type) {\n      case DevtoolsActions.LOCK_CHANGES: {\n        isLocked = liftedAction.status;\n        minInvalidatedStateIndex = Infinity;\n        break;\n      }\n      case DevtoolsActions.PAUSE_RECORDING: {\n        isPaused = liftedAction.status;\n        if (isPaused) {\n          // Add a pause action to signal the devtools-user the recording is paused.\n          // The corresponding state will be overwritten on each update to always contain\n          // the latest state (see Actions.PERFORM_ACTION).\n          stagedActionIds = [...stagedActionIds, nextActionId];\n          actionsById[nextActionId] = new PerformAction(\n            {\n              type: '@ngrx/devtools/pause',\n            },\n            +Date.now()\n          );\n          nextActionId++;\n          minInvalidatedStateIndex = stagedActionIds.length - 1;\n          computedStates = computedStates.concat(\n            computedStates[computedStates.length - 1]\n          );\n\n          if (currentStateIndex === stagedActionIds.length - 2) {\n            currentStateIndex++;\n          }\n          minInvalidatedStateIndex = Infinity;\n        } else {\n          commitChanges();\n        }\n        break;\n      }\n      case DevtoolsActions.RESET: {\n        // Get back to the state the store was created with.\n        actionsById = { 0: liftAction(INIT_ACTION) };\n        nextActionId = 1;\n        stagedActionIds = [0];\n        skippedActionIds = [];\n        committedState = initialCommittedState;\n        currentStateIndex = 0;\n        computedStates = [];\n        break;\n      }\n      case DevtoolsActions.COMMIT: {\n        commitChanges();\n        break;\n      }\n      case DevtoolsActions.ROLLBACK: {\n        // Forget about any staged actions.\n        // Start again from the last committed state.\n        actionsById = { 0: liftAction(INIT_ACTION) };\n        nextActionId = 1;\n        stagedActionIds = [0];\n        skippedActionIds = [];\n        currentStateIndex = 0;\n        computedStates = [];\n        break;\n      }\n      case DevtoolsActions.TOGGLE_ACTION: {\n        // Toggle whether an action with given ID is skipped.\n        // Being skipped means it is a no-op during the computation.\n        const { id: actionId } = liftedAction;\n        const index = skippedActionIds.indexOf(actionId);\n        if (index === -1) {\n          skippedActionIds = [actionId, ...skippedActionIds];\n        } else {\n          skippedActionIds = skippedActionIds.filter((id) => id !== actionId);\n        }\n        // Optimization: we know history before this action hasn't changed\n        minInvalidatedStateIndex = stagedActionIds.indexOf(actionId);\n        break;\n      }\n      case DevtoolsActions.SET_ACTIONS_ACTIVE: {\n        // Toggle whether an action with given ID is skipped.\n        // Being skipped means it is a no-op during the computation.\n        const { start, end, active } = liftedAction;\n        const actionIds = [];\n        for (let i = start; i < end; i++) actionIds.push(i);\n        if (active) {\n          skippedActionIds = difference(skippedActionIds, actionIds);\n        } else {\n          skippedActionIds = [...skippedActionIds, ...actionIds];\n        }\n\n        // Optimization: we know history before this action hasn't changed\n        minInvalidatedStateIndex = stagedActionIds.indexOf(start);\n        break;\n      }\n      case DevtoolsActions.JUMP_TO_STATE: {\n        // Without recomputing anything, move the pointer that tell us\n        // which state is considered the current one. Useful for sliders.\n        currentStateIndex = liftedAction.index;\n        // Optimization: we know the history has not changed.\n        minInvalidatedStateIndex = Infinity;\n        break;\n      }\n      case DevtoolsActions.JUMP_TO_ACTION: {\n        // Jumps to a corresponding state to a specific action.\n        // Useful when filtering actions.\n        const index = stagedActionIds.indexOf(liftedAction.actionId);\n        if (index !== -1) currentStateIndex = index;\n        minInvalidatedStateIndex = Infinity;\n        break;\n      }\n      case DevtoolsActions.SWEEP: {\n        // Forget any actions that are currently being skipped.\n        stagedActionIds = difference(stagedActionIds, skippedActionIds);\n        skippedActionIds = [];\n        currentStateIndex = Math.min(\n          currentStateIndex,\n          stagedActionIds.length - 1\n        );\n        break;\n      }\n      case DevtoolsActions.PERFORM_ACTION: {\n        // Ignore action and return state as is if recording is locked\n        if (isLocked) {\n          return liftedState || initialLiftedState;\n        }\n\n        if (\n          isPaused ||\n          (liftedState &&\n            isActionFiltered(\n              liftedState.computedStates[currentStateIndex],\n              liftedAction,\n              options.predicate,\n              options.actionsSafelist,\n              options.actionsBlocklist\n            ))\n        ) {\n          // If recording is paused or if the action should be ignored, overwrite the last state\n          // (corresponds to the pause action) and keep everything else as is.\n          // This way, the app gets the new current state while the devtools\n          // do not record another action.\n          const lastState = computedStates[computedStates.length - 1];\n          computedStates = [\n            ...computedStates.slice(0, -1),\n            computeNextEntry(\n              reducer,\n              liftedAction.action,\n              lastState.state,\n              lastState.error,\n              errorHandler\n            ),\n          ];\n          minInvalidatedStateIndex = Infinity;\n          break;\n        }\n\n        // Auto-commit as new actions come in.\n        if (options.maxAge && stagedActionIds.length === options.maxAge) {\n          commitExcessActions(1);\n        }\n\n        if (currentStateIndex === stagedActionIds.length - 1) {\n          currentStateIndex++;\n        }\n        const actionId = nextActionId++;\n        // Mutation! This is the hottest path, and we optimize on purpose.\n        // It is safe because we set a new key in a cache dictionary.\n        actionsById[actionId] = liftedAction;\n\n        stagedActionIds = [...stagedActionIds, actionId];\n        // Optimization: we know that only the new action needs computing.\n        minInvalidatedStateIndex = stagedActionIds.length - 1;\n        break;\n      }\n      case DevtoolsActions.IMPORT_STATE: {\n        // Completely replace everything.\n        ({\n          monitorState,\n          actionsById,\n          nextActionId,\n          stagedActionIds,\n          skippedActionIds,\n          committedState,\n          currentStateIndex,\n          computedStates,\n          isLocked,\n          isPaused,\n        } = liftedAction.nextLiftedState);\n        break;\n      }\n      case INIT: {\n        // Always recompute states on hot reload and init.\n        minInvalidatedStateIndex = 0;\n\n        if (options.maxAge && stagedActionIds.length > options.maxAge) {\n          // States must be recomputed before committing excess.\n          computedStates = recomputeStates(\n            computedStates,\n            minInvalidatedStateIndex,\n            reducer,\n            committedState,\n            actionsById,\n            stagedActionIds,\n            skippedActionIds,\n            errorHandler,\n            isPaused\n          );\n\n          commitExcessActions(stagedActionIds.length - options.maxAge);\n\n          // Avoid double computation.\n          minInvalidatedStateIndex = Infinity;\n        }\n\n        break;\n      }\n      case UPDATE: {\n        const stateHasErrors =\n          computedStates.filter((state) => state.error).length > 0;\n\n        if (stateHasErrors) {\n          // Recompute all states\n          minInvalidatedStateIndex = 0;\n\n          if (options.maxAge && stagedActionIds.length > options.maxAge) {\n            // States must be recomputed before committing excess.\n            computedStates = recomputeStates(\n              computedStates,\n              minInvalidatedStateIndex,\n              reducer,\n              committedState,\n              actionsById,\n              stagedActionIds,\n              skippedActionIds,\n              errorHandler,\n              isPaused\n            );\n\n            commitExcessActions(stagedActionIds.length - options.maxAge);\n\n            // Avoid double computation.\n            minInvalidatedStateIndex = Infinity;\n          }\n        } else {\n          // If not paused/locked, add a new action to signal devtools-user\n          // that there was a reducer update.\n          if (!isPaused && !isLocked) {\n            if (currentStateIndex === stagedActionIds.length - 1) {\n              currentStateIndex++;\n            }\n\n            // Add a new action to only recompute state\n            const actionId = nextActionId++;\n            actionsById[actionId] = new PerformAction(\n              liftedAction,\n              +Date.now()\n            );\n            stagedActionIds = [...stagedActionIds, actionId];\n\n            minInvalidatedStateIndex = stagedActionIds.length - 1;\n\n            computedStates = recomputeStates(\n              computedStates,\n              minInvalidatedStateIndex,\n              reducer,\n              committedState,\n              actionsById,\n              stagedActionIds,\n              skippedActionIds,\n              errorHandler,\n              isPaused\n            );\n          }\n\n          // Recompute state history with latest reducer and update action\n          computedStates = computedStates.map((cmp) => ({\n            ...cmp,\n            state: reducer(cmp.state, RECOMPUTE_ACTION),\n          }));\n\n          currentStateIndex = stagedActionIds.length - 1;\n\n          if (options.maxAge && stagedActionIds.length > options.maxAge) {\n            commitExcessActions(stagedActionIds.length - options.maxAge);\n          }\n\n          // Avoid double computation.\n          minInvalidatedStateIndex = Infinity;\n        }\n\n        break;\n      }\n      default: {\n        // If the action is not recognized, it's a monitor action.\n        // Optimization: a monitor action can't change history.\n        minInvalidatedStateIndex = Infinity;\n        break;\n      }\n    }\n\n    computedStates = recomputeStates(\n      computedStates,\n      minInvalidatedStateIndex,\n      reducer,\n      committedState,\n      actionsById,\n      stagedActionIds,\n      skippedActionIds,\n      errorHandler,\n      isPaused\n    );\n    monitorState = monitorReducer(monitorState, liftedAction);\n\n    return {\n      monitorState,\n      actionsById,\n      nextActionId,\n      stagedActionIds,\n      skippedActionIds,\n      committedState,\n      currentStateIndex,\n      computedStates,\n      isLocked,\n      isPaused,\n    };\n  };\n}\n","import { Injectable, Inject, ErrorHandler } from '@angular/core';\nimport {\n  Action,\n  ActionReducer,\n  ActionsSubject,\n  INITIAL_STATE,\n  ReducerObservable,\n  ScannedActionsSubject,\n} from '@ngrx/store';\nimport {\n  merge,\n  Observable,\n  Observer,\n  queueScheduler,\n  ReplaySubject,\n  Subscription,\n} from 'rxjs';\nimport { map, observeOn, scan, skip, withLatestFrom } from 'rxjs/operators';\n\nimport * as Actions from './actions';\nimport { STORE_DEVTOOLS_CONFIG, StoreDevtoolsConfig } from './config';\nimport { DevtoolsExtension } from './extension';\nimport { LiftedState, liftInitialState, liftReducerWith } from './reducer';\nimport {\n  liftAction,\n  unliftState,\n  shouldFilterActions,\n  filterLiftedState,\n} from './utils';\nimport { DevtoolsDispatcher } from './devtools-dispatcher';\nimport { PERFORM_ACTION } from './actions';\n\n@Injectable()\nexport class StoreDevtools implements Observer<any> {\n  private stateSubscription: Subscription;\n  private extensionStartSubscription: Subscription;\n  public dispatcher: ActionsSubject;\n  public liftedState: Observable<LiftedState>;\n  public state: Observable<any>;\n\n  constructor(\n    dispatcher: DevtoolsDispatcher,\n    actions$: ActionsSubject,\n    reducers$: ReducerObservable,\n    extension: DevtoolsExtension,\n    scannedActions: ScannedActionsSubject,\n    errorHandler: ErrorHandler,\n    @Inject(INITIAL_STATE) initialState: any,\n    @Inject(STORE_DEVTOOLS_CONFIG) config: StoreDevtoolsConfig\n  ) {\n    const liftedInitialState = liftInitialState(initialState, config.monitor);\n    const liftReducer = liftReducerWith(\n      initialState,\n      liftedInitialState,\n      errorHandler,\n      config.monitor,\n      config\n    );\n\n    const liftedAction$ = merge(\n      merge(actions$.asObservable().pipe(skip(1)), extension.actions$).pipe(\n        map(liftAction)\n      ),\n      dispatcher,\n      extension.liftedActions$\n    ).pipe(observeOn(queueScheduler));\n\n    const liftedReducer$ = reducers$.pipe(map(liftReducer));\n\n    const liftedStateSubject = new ReplaySubject<LiftedState>(1);\n\n    const liftedStateSubscription = liftedAction$\n      .pipe(\n        withLatestFrom(liftedReducer$),\n        scan<\n          [any, ActionReducer<LiftedState, Actions.All>],\n          {\n            state: LiftedState;\n            action: any;\n          }\n        >(\n          ({ state: liftedState }, [action, reducer]) => {\n            let reducedLiftedState = reducer(liftedState, action);\n            // On full state update\n            // If we have actions filters, we must filter completely our lifted state to be sync with the extension\n            if (action.type !== PERFORM_ACTION && shouldFilterActions(config)) {\n              reducedLiftedState = filterLiftedState(\n                reducedLiftedState,\n                config.predicate,\n                config.actionsSafelist,\n                config.actionsBlocklist\n              );\n            }\n            // Extension should be sent the sanitized lifted state\n            extension.notify(action, reducedLiftedState);\n            return { state: reducedLiftedState, action };\n          },\n          { state: liftedInitialState, action: null as any }\n        )\n      )\n      .subscribe(({ state, action }) => {\n        liftedStateSubject.next(state);\n\n        if (action.type === Actions.PERFORM_ACTION) {\n          const unliftedAction = (action as Actions.PerformAction).action;\n\n          scannedActions.next(unliftedAction);\n        }\n      });\n\n    const extensionStartSubscription = extension.start$.subscribe(() => {\n      this.refresh();\n    });\n\n    const liftedState$ = liftedStateSubject.asObservable() as Observable<\n      LiftedState\n    >;\n    const state$ = liftedState$.pipe(map(unliftState));\n\n    this.extensionStartSubscription = extensionStartSubscription;\n    this.stateSubscription = liftedStateSubscription;\n    this.dispatcher = dispatcher;\n    this.liftedState = liftedState$;\n    this.state = state$;\n  }\n\n  dispatch(action: Action) {\n    this.dispatcher.next(action);\n  }\n\n  next(action: any) {\n    this.dispatcher.next(action);\n  }\n\n  error(error: any) {}\n\n  complete() {}\n\n  performAction(action: any) {\n    this.dispatch(new Actions.PerformAction(action, +Date.now()));\n  }\n\n  refresh() {\n    this.dispatch(new Actions.Refresh());\n  }\n\n  reset() {\n    this.dispatch(new Actions.Reset(+Date.now()));\n  }\n\n  rollback() {\n    this.dispatch(new Actions.Rollback(+Date.now()));\n  }\n\n  commit() {\n    this.dispatch(new Actions.Commit(+Date.now()));\n  }\n\n  sweep() {\n    this.dispatch(new Actions.Sweep());\n  }\n\n  toggleAction(id: number) {\n    this.dispatch(new Actions.ToggleAction(id));\n  }\n\n  jumpToAction(actionId: number) {\n    this.dispatch(new Actions.JumpToAction(actionId));\n  }\n\n  jumpToState(index: number) {\n    this.dispatch(new Actions.JumpToState(index));\n  }\n\n  importState(nextLiftedState: any) {\n    this.dispatch(new Actions.ImportState(nextLiftedState));\n  }\n\n  lockChanges(status: boolean) {\n    this.dispatch(new Actions.LockChanges(status));\n  }\n\n  pauseRecording(status: boolean) {\n    this.dispatch(new Actions.PauseRecording(status));\n  }\n}\n","import { InjectionToken, ModuleWithProviders, NgModule } from '@angular/core';\nimport { ReducerManagerDispatcher, StateObservable } from '@ngrx/store';\nimport { Observable } from 'rxjs';\n\nimport {\n  INITIAL_OPTIONS,\n  STORE_DEVTOOLS_CONFIG,\n  StoreDevtoolsConfig,\n  StoreDevtoolsOptions,\n  noMonitor,\n  createConfig,\n} from './config';\nimport { StoreDevtools } from './devtools';\nimport {\n  DevtoolsExtension,\n  REDUX_DEVTOOLS_EXTENSION,\n  ReduxDevtoolsExtension,\n} from './extension';\nimport { DevtoolsDispatcher } from './devtools-dispatcher';\n\nexport const IS_EXTENSION_OR_MONITOR_PRESENT = new InjectionToken<boolean>(\n  '@ngrx/store-devtools Is Devtools Extension or Monitor Present'\n);\n\nexport function createIsExtensionOrMonitorPresent(\n  extension: ReduxDevtoolsExtension | null,\n  config: StoreDevtoolsConfig\n) {\n  return Boolean(extension) || config.monitor !== noMonitor;\n}\n\nexport function createReduxDevtoolsExtension() {\n  const extensionKey = '__REDUX_DEVTOOLS_EXTENSION__';\n\n  if (\n    typeof window === 'object' &&\n    typeof (window as any)[extensionKey] !== 'undefined'\n  ) {\n    return (window as any)[extensionKey];\n  } else {\n    return null;\n  }\n}\n\nexport function createStateObservable(\n  devtools: StoreDevtools\n): Observable<any> {\n  return devtools.state;\n}\n\n@NgModule({})\nexport class StoreDevtoolsModule {\n  static instrument(\n    options: StoreDevtoolsOptions = {}\n  ): ModuleWithProviders<StoreDevtoolsModule> {\n    return {\n      ngModule: StoreDevtoolsModule,\n      providers: [\n        DevtoolsExtension,\n        DevtoolsDispatcher,\n        StoreDevtools,\n        {\n          provide: INITIAL_OPTIONS,\n          useValue: options,\n        },\n        {\n          provide: IS_EXTENSION_OR_MONITOR_PRESENT,\n          deps: [REDUX_DEVTOOLS_EXTENSION, STORE_DEVTOOLS_CONFIG],\n          useFactory: createIsExtensionOrMonitorPresent,\n        },\n        {\n          provide: REDUX_DEVTOOLS_EXTENSION,\n          useFactory: createReduxDevtoolsExtension,\n        },\n        {\n          provide: STORE_DEVTOOLS_CONFIG,\n          deps: [INITIAL_OPTIONS],\n          useFactory: createConfig,\n        },\n        {\n          provide: StateObservable,\n          deps: [StoreDevtools],\n          useFactory: createStateObservable,\n        },\n        {\n          provide: ReducerManagerDispatcher,\n          useExisting: DevtoolsDispatcher,\n        },\n      ],\n    };\n  }\n}\n"]}