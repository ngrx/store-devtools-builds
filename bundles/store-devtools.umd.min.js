/**
 * @license NgRx 7.4.0
 * (c) 2015-2018 Brandon Roberts, Mike Ryan, Rob Wormald, Victor Savkin
 * License: MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@ngrx/store"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@ngrx/store-devtools",["exports","@angular/core","@ngrx/store","rxjs","rxjs/operators"],e):e(((t=t||self).ngrx=t.ngrx||{},t.ngrx.storeDevtools={}),t.ng.core,t["@ngrx/store"],t.rxjs,t.rxjs.operators)}(this,function(exports,core,store,rxjs,operators){"use strict";var StoreDevtoolsConfig=function StoreDevtoolsConfig(){},STORE_DEVTOOLS_CONFIG=new core.InjectionToken("@ngrx/devtools Options"),INITIAL_OPTIONS=new core.InjectionToken("@ngrx/devtools Initial Config");function noMonitor(){return null}var DEFAULT_NAME="NgRx Store DevTools";function createConfig(t){var e={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},o="function"==typeof t?t():t,n=Object.assign({},e,{features:o.features||!!o.logOnly&&{pause:!0,export:!0,test:!0}||e.features},o);if(n.maxAge&&n.maxAge<2)throw new Error("Devtools 'maxAge' cannot be less than 2, got "+n.maxAge);return n}var PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING",PerformAction=function PerformAction(t,e){if(this.action=t,this.timestamp=e,this.type=PERFORM_ACTION,void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')},Refresh=function Refresh(){this.type=REFRESH},Reset=function Reset(t){this.timestamp=t,this.type=RESET},Rollback=function Rollback(t){this.timestamp=t,this.type=ROLLBACK},Commit=function Commit(t){this.timestamp=t,this.type=COMMIT},Sweep=function Sweep(){this.type=SWEEP},ToggleAction=function ToggleAction(t){this.id=t,this.type=TOGGLE_ACTION},JumpToState=function JumpToState(t){this.index=t,this.type=JUMP_TO_STATE},JumpToAction=function JumpToAction(t){this.actionId=t,this.type=JUMP_TO_ACTION},ImportState=function ImportState(t){this.nextLiftedState=t,this.type=IMPORT_STATE},LockChanges=function LockChanges(t){this.status=t,this.type=LOCK_CHANGES},PauseRecording=function PauseRecording(t){this.status=t,this.type=PAUSE_RECORDING},__assign=function(){return(__assign=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function difference(t,e){return t.filter(function(t){return e.indexOf(t)<0})}function unliftState(t){var e=t.computedStates,o=t.currentStateIndex;return o>=e.length?e[e.length-1].state:e[o].state}function liftAction(t){return new PerformAction(t,+Date.now())}function sanitizeActions(t,e){return Object.keys(e).reduce(function(o,n){var r=Number(n);return o[r]=sanitizeAction(t,e[r],r),o},{})}function sanitizeAction(t,e,o){return __assign({},e,{action:t(e.action,o)})}function sanitizeStates(t,e){return e.map(function(e,o){return{state:sanitizeState(t,e.state,o),error:e.error}})}function sanitizeState(t,e,o){return t(e,o)}function shouldFilterActions(t){return t.predicate||t.actionsWhitelist||t.actionsBlacklist}function filterLiftedState(t,e,o,n){var r=[],i={},s=[];return t.stagedActionIds.forEach(function(a,c){var p=t.actionsById[a];p&&(c&&isActionFiltered(t.computedStates[c],p,e,o,n)||(i[a]=p,r.push(a),s.push(t.computedStates[c])))}),__assign({},t,{stagedActionIds:r,actionsById:i,computedStates:s})}function isActionFiltered(t,e,o,n,r){var i=o&&!o(t,e.action),s=n&&!e.action.type.match(n.join("|")),a=r&&e.action.type.match(r.join("|"));return i||s||a}var __extends=(extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),extendStatics,__decorate=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},DevtoolsDispatcher=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),__decorate([core.Injectable()],e)}(store.ActionsSubject),__assign$1=function(){return(__assign$1=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__decorate$1=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},__metadata=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__param=function(t,e){return function(o,n){e(o,n,t)}},ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new core.InjectionToken("Redux Devtools Extension"),DevtoolsExtension=function(){function DevtoolsExtension(t,e,o){this.config=e,this.dispatcher=o,this.devtoolsExtension=t,this.createActionStreams()}return DevtoolsExtension.prototype.notify=function(t,e){var o=this;if(this.devtoolsExtension)if(t.type===PERFORM_ACTION){if(e.isLocked||e.isPaused)return;var n=unliftState(e);if(shouldFilterActions(this.config)&&isActionFiltered(n,t,this.config.predicate,this.config.actionsWhitelist,this.config.actionsBlacklist))return;var r=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,n,e.currentStateIndex):n,i=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,t,e.nextActionId):t;this.sendToReduxDevtools(function(){return o.extensionConnection.send(i,r)})}else{var s=__assign$1({},e,{stagedActionIds:e.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,e.actionsById):e.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,e.computedStates):e.computedStates});this.sendToReduxDevtools(function(){return o.devtoolsExtension.send(null,s,o.getExtensionConfig(o.config))})}},DevtoolsExtension.prototype.createChangesObservable=function(){var t=this;return this.devtoolsExtension?new rxjs.Observable(function(e){var o=t.devtoolsExtension.connect(t.getExtensionConfig(t.config));return t.extensionConnection=o,o.init(),o.subscribe(function(t){return e.next(t)}),o.unsubscribe}):rxjs.empty()},DevtoolsExtension.prototype.createActionStreams=function(){var t=this,e=this.createChangesObservable().pipe(operators.share()),o=e.pipe(operators.filter(function(t){return t.type===ExtensionActionTypes.START})),n=e.pipe(operators.filter(function(t){return t.type===ExtensionActionTypes.STOP})),r=e.pipe(operators.filter(function(t){return t.type===ExtensionActionTypes.DISPATCH}),operators.map(function(e){return t.unwrapAction(e.payload)}),operators.concatMap(function(e){return e.type===IMPORT_STATE?t.dispatcher.pipe(operators.filter(function(t){return t.type===store.UPDATE}),operators.timeout(1e3),operators.debounceTime(1e3),operators.map(function(){return e}),operators.catchError(function(){return rxjs.of(e)}),operators.take(1)):rxjs.of(e)})),i=e.pipe(operators.filter(function(t){return t.type===ExtensionActionTypes.ACTION}),operators.map(function(e){return t.unwrapAction(e.payload)})).pipe(operators.takeUntil(n)),s=r.pipe(operators.takeUntil(n));this.start$=o.pipe(operators.takeUntil(n)),this.actions$=this.start$.pipe(operators.switchMap(function(){return i})),this.liftedActions$=this.start$.pipe(operators.switchMap(function(){return s}))},DevtoolsExtension.prototype.unwrapAction=function(action){return"string"==typeof action?eval("("+action+")"):action},DevtoolsExtension.prototype.getExtensionConfig=function(t){var e={name:t.name,features:t.features,serialize:t.serialize};return!1!==t.maxAge&&(e.maxAge=t.maxAge),e},DevtoolsExtension.prototype.sendToReduxDevtools=function(t){try{t()}catch(t){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",t)}},DevtoolsExtension=__decorate$1([core.Injectable(),__param(0,core.Inject(REDUX_DEVTOOLS_EXTENSION)),__param(1,core.Inject(STORE_DEVTOOLS_CONFIG)),__metadata("design:paramtypes",[Object,StoreDevtoolsConfig,DevtoolsDispatcher])],DevtoolsExtension),DevtoolsExtension}(),__assign$2=function(){return(__assign$2=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)},__read=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},__spread=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(__read(arguments[e]));return t},INIT_ACTION={type:store.INIT},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(t,e,o,n,r){if(n)return{state:o,error:"Interrupted by an error up the chain"};var i,s=o;try{s=t(o,e)}catch(t){i=t.toString(),r.handleError(t.stack||t)}return{state:s,error:i}}function recomputeStates(t,e,o,n,r,i,s,a,c){if(e>=t.length&&t.length===i.length)return t;for(var p=t.slice(0,e),u=i.length-(c?1:0),l=e;l<u;l++){var f=i[l],d=r[f].action,_=p[l-1],h=_?_.state:n,O=_?_.error:void 0,S=s.indexOf(f)>-1?_:computeNextEntry(o,d,h,O,a);p.push(S)}return c&&p.push(t[t.length-1]),p}function liftInitialState(t,e){return{monitorState:e(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:t,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(t,e,o,n,r){return void 0===r&&(r={}),function(i){return function(s,a){var c,p=s||e,u=p.monitorState,l=p.actionsById,f=p.nextActionId,d=p.stagedActionIds,_=p.skippedActionIds,h=p.committedState,O=p.currentStateIndex,S=p.computedStates,T=p.isLocked,E=p.isPaused;function g(t){for(var e=t,o=d.slice(1,e+1),n=0;n<o.length;n++){if(S[n+1].error){o=d.slice(1,(e=n)+1);break}delete l[o[n]]}_=_.filter(function(t){return-1===o.indexOf(t)}),d=__spread([0],d.slice(e+1)),h=S[e].state,S=S.slice(e),O=O>e?O-e:0}function v(){l={0:liftAction(INIT_ACTION)},f=1,d=[0],_=[],h=S[O].state,O=0,S=[]}s||(l=Object.create(l));var x=0;switch(a.type){case LOCK_CHANGES:T=a.status,x=1/0;break;case PAUSE_RECORDING:(E=a.status)?(d=__spread(d,[f]),l[f]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),f++,x=d.length-1,S=S.concat(S[S.length-1]),O===d.length-2&&O++,x=1/0):v();break;case RESET:l={0:liftAction(INIT_ACTION)},f=1,d=[0],_=[],h=t,O=0,S=[];break;case COMMIT:v();break;case ROLLBACK:l={0:liftAction(INIT_ACTION)},f=1,d=[0],_=[],O=0,S=[];break;case TOGGLE_ACTION:var I=a.id,A=_.indexOf(I);_=-1===A?__spread([I],_):_.filter(function(t){return t!==I}),x=d.indexOf(I);break;case SET_ACTIONS_ACTIVE:for(var m=a.start,y=a.end,R=a.active,b=[],D=m;D<y;D++)b.push(D);_=R?difference(_,b):__spread(_,b),x=d.indexOf(m);break;case JUMP_TO_STATE:O=a.index,x=1/0;break;case JUMP_TO_ACTION:-1!==(A=d.indexOf(a.actionId))&&(O=A),x=1/0;break;case SWEEP:d=difference(d,_),_=[],O=Math.min(O,d.length-1);break;case PERFORM_ACTION:if(T)return s||e;if(E||s&&isActionFiltered(s.computedStates[O],a,r.predicate,r.actionsWhitelist,r.actionsBlacklist)){var N=S[S.length-1];S=__spread(S.slice(0,-1),[computeNextEntry(i,a.action,N.state,N.error,o)]),x=1/0;break}r.maxAge&&d.length===r.maxAge&&g(1),O===d.length-1&&O++;var C=f++;l[C]=a,x=(d=__spread(d,[C])).length-1;break;case IMPORT_STATE:u=(c=a.nextLiftedState).monitorState,l=c.actionsById,f=c.nextActionId,d=c.stagedActionIds,_=c.skippedActionIds,h=c.committedState,O=c.currentStateIndex,S=c.computedStates,T=c.isLocked,E=c.isPaused;break;case store.INIT:x=0,r.maxAge&&d.length>r.maxAge&&(S=recomputeStates(S,x,i,h,l,d,_,o,E),g(d.length-r.maxAge),x=1/0);break;case store.UPDATE:S.filter(function(t){return t.error}).length>0?(x=0,r.maxAge&&d.length>r.maxAge&&(S=recomputeStates(S,x,i,h,l,d,_,o,E),g(d.length-r.maxAge),x=1/0)):(E||T||(O===d.length-1&&O++,C=f++,l[C]=new PerformAction(a,+Date.now()),d=__spread(d,[C]),S=recomputeStates(S,x=d.length-1,i,h,l,d,_,o,E)),S=S.map(function(t){return __assign$2({},t,{state:i(t.state,RECOMPUTE_ACTION)})}),O=d.length-1,r.maxAge&&d.length>r.maxAge&&g(d.length-r.maxAge),x=1/0);break;default:x=1/0}return S=recomputeStates(S,x,i,h,l,d,_,o,E),{monitorState:u=n(u,a),actionsById:l,nextActionId:f,stagedActionIds:d,skippedActionIds:_,committedState:h,currentStateIndex:O,computedStates:S,isLocked:T,isPaused:E}}}}var __decorate$2=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},__metadata$1=function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},__param$1=function(t,e){return function(o,n){e(o,n,t)}},__read$1=function(t,e){var o="function"==typeof Symbol&&t[Symbol.iterator];if(!o)return t;var n,r,i=o.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){r={error:t}}finally{try{n&&!n.done&&(o=i.return)&&o.call(i)}finally{if(r)throw r.error}}return s},StoreDevtools=function(){function t(t,e,o,n,r,i,s,a){var c=this,p=liftInitialState(s,a.monitor),u=liftReducerWith(s,p,i,a.monitor,a),l=rxjs.merge(rxjs.merge(e.asObservable().pipe(operators.skip(1)),n.actions$).pipe(operators.map(liftAction)),t,n.liftedActions$).pipe(operators.observeOn(rxjs.queueScheduler)),f=o.pipe(operators.map(u)),d=new rxjs.ReplaySubject(1),_=l.pipe(operators.withLatestFrom(f),operators.scan(function(t,e){var o=t.state,r=__read$1(e,2),i=r[0],s=(0,r[1])(o,i);return i.type!==PERFORM_ACTION&&shouldFilterActions(a)&&(s=filterLiftedState(s,a.predicate,a.actionsWhitelist,a.actionsBlacklist)),n.notify(i,s),{state:s,action:i}},{state:p,action:null})).subscribe(function(t){var e=t.action;d.next(t.state),e.type===PERFORM_ACTION&&r.next(e.action)}),h=n.start$.subscribe(function(){c.refresh()}),O=d.asObservable(),S=O.pipe(operators.map(unliftState));this.extensionStartSubscription=h,this.stateSubscription=_,this.dispatcher=t,this.liftedState=O,this.state=S}return t.prototype.dispatch=function(t){this.dispatcher.next(t)},t.prototype.next=function(t){this.dispatcher.next(t)},t.prototype.error=function(t){},t.prototype.complete=function(){},t.prototype.performAction=function(t){this.dispatch(new PerformAction(t,+Date.now()))},t.prototype.refresh=function(){this.dispatch(new Refresh)},t.prototype.reset=function(){this.dispatch(new Reset(+Date.now()))},t.prototype.rollback=function(){this.dispatch(new Rollback(+Date.now()))},t.prototype.commit=function(){this.dispatch(new Commit(+Date.now()))},t.prototype.sweep=function(){this.dispatch(new Sweep)},t.prototype.toggleAction=function(t){this.dispatch(new ToggleAction(t))},t.prototype.jumpToAction=function(t){this.dispatch(new JumpToAction(t))},t.prototype.jumpToState=function(t){this.dispatch(new JumpToState(t))},t.prototype.importState=function(t){this.dispatch(new ImportState(t))},t.prototype.lockChanges=function(t){this.dispatch(new LockChanges(t))},t.prototype.pauseRecording=function(t){this.dispatch(new PauseRecording(t))},__decorate$2([core.Injectable(),__param$1(6,core.Inject(store.INITIAL_STATE)),__param$1(7,core.Inject(STORE_DEVTOOLS_CONFIG)),__metadata$1("design:paramtypes",[DevtoolsDispatcher,store.ActionsSubject,store.ReducerObservable,DevtoolsExtension,store.ScannedActionsSubject,core.ErrorHandler,Object,StoreDevtoolsConfig])],t)}(),__decorate$3=function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(i<3?r(s):i>3?r(e,o,s):r(e,o))||s);return i>3&&s&&Object.defineProperty(e,o,s),s},IS_EXTENSION_OR_MONITOR_PRESENT=new core.InjectionToken("Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(t,e){return Boolean(t)||e.monitor!==noMonitor}function createReduxDevtoolsExtension(){return"object"==typeof window&&void 0!==window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__:null}function createStateObservable(t){return t.state}var StoreDevtoolsModule=function(){function t(){}var e;return e=t,t.instrument=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:t},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:store.StateObservable,deps:[StoreDevtools],useFactory:createStateObservable},{provide:store.ReducerManagerDispatcher,useExisting:DevtoolsDispatcher}]}},e=__decorate$3([core.NgModule({})],t)}();exports.ɵngrx_modules_store_devtools_store_devtools_f=INITIAL_OPTIONS,exports.ɵngrx_modules_store_devtools_store_devtools_e=STORE_DEVTOOLS_CONFIG,exports.ɵngrx_modules_store_devtools_store_devtools_h=createConfig,exports.ɵngrx_modules_store_devtools_store_devtools_g=noMonitor,exports.ɵngrx_modules_store_devtools_store_devtools_k=DevtoolsDispatcher,exports.ɵngrx_modules_store_devtools_store_devtools_j=DevtoolsExtension,exports.ɵngrx_modules_store_devtools_store_devtools_i=REDUX_DEVTOOLS_EXTENSION,exports.ɵngrx_modules_store_devtools_store_devtools_a=IS_EXTENSION_OR_MONITOR_PRESENT,exports.ɵngrx_modules_store_devtools_store_devtools_b=createIsExtensionOrMonitorPresent,exports.ɵngrx_modules_store_devtools_store_devtools_c=createReduxDevtoolsExtension,exports.ɵngrx_modules_store_devtools_store_devtools_d=createStateObservable,exports.StoreDevtoolsModule=StoreDevtoolsModule,exports.RECOMPUTE=RECOMPUTE,exports.StoreDevtools=StoreDevtools,exports.StoreDevtoolsConfig=StoreDevtoolsConfig,Object.defineProperty(exports,"__esModule",{value:!0})});